<!doctype html>

<!-- Formation réalisé par Tony MEMBOT -->

<html lang="fr">
	<head>
		<meta charset="utf-8">

		<title>Git</title>

		<meta name="description" content="A la découverte de l'outil de gestion de version">
		<meta name="author" content="Tony MEMBOT">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="reveal-3.2.0/css/reveal.css">
		<link rel="stylesheet" href="reveal-3.2.0/css/theme/sky.css" id="theme">
		<link rel="stylesheet" href="reveal-3.2.0/lib/css/zenburn.css">

        <style>
            .reveal section img.imgNoDecorate {
                border:0;
                box-shadow: 0 0 0;
                background: initial;
            }
        </style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal-3.2.0/css/print/pdf.css' : 'reveal-3.2.0/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="reveal-3.2.0/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

                <!-- *************************************************************** -->
                <!-- 0. Titre & plan -->
                <!-- *************************************************************** -->

				<section>
					<h1>GIT</h1>
					<h3>A la découverte de l'outil de gestion de version</h3>
                    <p></p>
					<p>
						<small>Créée par Tony MEMBOT via l'API de présentation <a href="https://github.com/hakimel/reveal.js">Reveal.js</a></small>
					</p>

                    <aside class="notes">
                        <ul>
                            <li>Présentation / profil</li>
                            <li>Comment aborder cette formation ? par une histoire vraie</li>

                        </ul>
                    </aside>
				</section>

                <!-- *************************************************************** -->
                <!-- 0. A l'aventure ! -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Suivons l'histoire vraie de Robin</h3>

                        <img src="img/section0/robin.jpg" class="imgNoDecorate" width="400"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Création d'un site internet</h3>

                        <ul>
                            <li>Indexer ses films préférés
                                <ul>
                                    <li>Trotro le coquin / Robocar Polly fait des bêtises / ...</li>
                                </ul>
                            </li>
                            <li class="fragment">Évolutif
                                <ul>
                                    <li>Critique de série</li>
                                    <li>Réseau social</li>
                                    <li>Streaming</li>
                                    <li>Création d'une crypto-monnaie ...</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Première version</h3>

                        <img src="img/section0/site.1.0.0.png" class="imgNoDecorate" width="800"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Une première évolution ...</h3>

                        <ul>
                            <li>Ajout de blocs de publicité un peu partout sur le site
                                <ul>
                                    <li>Nécessite l'inclusion de plusieurs librairies javascript</li>
                                    <li>Modification de la majorité des pages</li>
                                    <li>Modification de la base de données</li>
                                    <li>Etc.</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                            Tout le code est touché par cette nouvelle fonctionnalité
                        </aside>
                    </section>

                    <section>
                        <h3>... qui se passe mal</h3>

                        <img src="img/section0/helico.gif" class="imgNoDecorate" />

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Il faut revenir en arrière !</h3>

                        <ul>
                            <li>Trop de fichiers modifiés</li>
                            <li>Pas de sauvegarde du site avant la modification</li>
                            <li>Des heures de bonheur en vue ...</li>
                        </ul>

                        <aside class="notes">
                            Impossible de revenir proprement en arrière
                        </aside>
                    </section>

                    <section>
                        <h3>Première VRAIE évolution</h3>
                        <h4>Mise en place d'un système de gestion de version</h4>
                        <p class="fragment">
                            Robin part à la chasse et tombe sur GIT<br />
                            <img src="img/section0/logo_Git_alpha.png" class="imgNoDecorate"/>
                        </p>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 1. Pourquoi choisir GIT ? -->
                <!-- *************************************************************** -->

				<section>

                    <section>
                        <h2>Pourquoi choisir GIT ?</h2>

                        <img src="img/section1/git_siffle_svn.jpg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Il était une fois l'histoire de GIT</h3>

                        <img src="img/section1/cat_sleep.gif" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Parti ennuyeuse mais nécessaire</li>
                            </ul>
                        </aside>
                    </section>

					<section>
						<h3>Il était une fois l'histoire de GIT</h3>
						<ul>
							<li><b>2002</b> : Linus Torvalds utilise BitKeeper pour Linux, logiciel propriétaire.</li>
						</ul>
                        <img class="fragment" src="img/section1/torvald.jpg" class="imgNoDecorate" width="600"/>
					</section>

                    <section>
                        <h3>Il était une fois l'histoire de GIT</h3>
                        <ul>
                            <li><b>2002</b> : Linus Torvalds utilise BitKeeper pour Linux, logiciel propriétaire.</li>
                            <li><b>Début 2005</b> : BitKeeper arrête sa version gratuite.</li>
                            <li class="fragment"><b>Avril 2005</b> : Linus Torvald crée GIT, répondant à ses besoins (en 5 jours).
                                <ul>
                                    <li>Système de fichier évolué</li>
                                    <li>Décentralisé</li>
                                    <li>Libre</li>
                                </ul>
                            </li>
                            <li class="fragment"><b>Versions</b> : Environs tous les trois mois
                                <ul>
                                    <li>Dernière version : <b>2.21.10</b> (24/02/2019)</li>
                                    <li>Version de la formation : <b>2.21.10</b> (24/02/2019)</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

					<section>
						<h3>Centralisé VS décentralisé</h3>

                        <img src="img/section1/svn-vs-git.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Tout l'historique est présent lors d'un clone, pas de besoin de remote.</li>
                                <li>Respecte l'éthique du libre : on peut cloner et proposer des pull request.</li>
                                <li>Décentralisé : autonomie</li>
                            </ul>
                        </aside>
					</section>

                    <section>
                        <h3>Les ingrédients de GIT</h3>
                        <ul>
                            <li>Tout est SHA1 : Identifiant unique de chaque objet
                                <ul>
                                    <li><b>Blob</b> : contenu des fichiers</li>
                                    <li><b>Tree</b> : répertoire de blob et/ou autre tree</li>
                                    <li><b>Commit</b> :
                                        <ul>
                                            <li>Un Tree</li>
                                            <li>0 ou N commits parents</li>
                                            <li>Un message de description</li>
                                        </ul>
                                    </li>
                                    <li><b>Tag</b></li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Les tags sont bien à part des références.</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les objets GIT</h3>
                        <img src="img/section1/objets_git.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Cheminement des commits</h3>
                        <img src="img/section1/objets_git_1.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Les références</h3>

                        <ul>
                            <li>Système de pointeur vers des commit</li>
                            <li>Ce qui conduit à un système évolué de branching (déviation)</li>
                            <li>Merge rapides et simplifiés, accompagnés d'outils</li>
                            <li>Travail en parallèle</li>
                            <li>Travail sur plusieurs sujets différents</li>
                            <li>Reprise de commit d'une autre branche</li>
                            <li>etc.</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Le système de commit + référence encourage à commit régulièrement</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>L'espace de travail</h3>
                        <img src="img/section1/local_stage_0.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Système d'historisation local</li>
                                <li>On ne pousse sur le remote que quand on est prêt</li>
                                <li>Même système sur le remote (distribué)</li>
                                <li>On rentre dans le détail plus tard</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Particularités</h3>
                        <ul>
                            <li>Tout est ajout
                                <ul>
                                    <li>Même les suppressions de fichiers / dossiers</li>
                                    <li>Même les merge</li>
                                </ul>
                            </li>
                            <li>Les liens / commit déférencés sont automatiquement supprimés (branches mortes)</li>
                            <li>Hautement scriptable / automatisable</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Différence de stockage</h3>
                        <img src="img/git-storage.png" class="imgNoDecorate" width="1000"/>

                        <aside class="notes">
                            <ul>
                                <li>Tout SHA1 : Git stock le fichier complet (snapshot du repo)</li>
                                <li>GIT utilise des pointeurs (SHA1)</li>
                                <li>les gros repos ne sont pas ralenti au fil du temps</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Git est optimiser pour ...</h3>
                        <ul>
                            <li>Être rapide</li>
                            <li>Être robuste</li>
                            <li>Gérer un grand nombre de fichier</li>
                            <li>Réaliser des développements distribués</li>
                            <li>Rendre trivial la gestion des branches et des merge</li>
                            <li>Sa compatibilité : SVN / CVS / HTTP / SSH / ...</li>
                        </ul>
                    </section>

                    <section>
                        <h3>... mais l'est moins pour</h3>
                        <ul>
                            <li>Gérer les gros fichiers binaires</li>
                            <li>Son côté non "user friendly" / brouillon aux premiers abords
                                <ul>
                                    <li>Nombreuses commandes</li>
                                    <li>Très paramétrables</li>
                                    <li>...</li>
                                </ul>
                            </li>
                            <li class="fragment">Les interfaces UI => vive la console !</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Robin est fan de la console</h3>
                        <img src="img/section1/no_cmd.gif" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>GIT est user friendly sous terminal</li>
                                <li>C'est un gestionnaire de fichier</li>
                                <li>Les UI s'améliorent et on verra des UI à la fin</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Robin est convaincu, il part sur GIT</h3>
                        <img src="img/section1/convaincu.gif" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Heureusement pour notre formation !</li>
                                <li>GIT est hype/moderne</li>
                            </ul>
                        </aside>
                    </section>
				</section>

                <!-- *************************************************************** -->
                <!-- 2. Mise en place de GIT -->
                <!-- *************************************************************** -->

				<section>

                    <section>
                        <h2>Mise en place de GIT</h2>
                    </section>

                    <section>
                        <h3>Installation</h3>
                        <ul>
                            <li>Systèmes Linux<br/>
                                <pre><code class="Bash" data-trim>yum install git</code></pre>
                                <pre><code class="Bash" data-trim>sudo apt-get install git</code></pre>
                            </li>
                            <li>Systèmes windows (émulation git bash)<br />
                                <pre><code class="Bash" data-trim>http://gitforwindows.org/</code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Installation</h3>
                        <ul>
                            <li>Systèmes Linux
                                <ul>
                                    <li>Conseillé d'installer depuis les sources (paquet distrib trop vieux)</li>
                                    <li>Il faut installer gitk soit même :
                                        <pre><code class="Bash" data-trim>sudo apt-get install gitk</code></pre>
                                    </li>
                                </ul>
                            </li>
                            <li>Systèmes Windows
                                <ul>
                                    <li>Emulation avec git bash / intégrer au système</li>
                                    <li>Gitk fournit de base</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Référence : https://git-scm.com/book/fr/v1/D%C3%A9marrage-rapide-Installation-de-Git</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_1.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_2.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_3.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_4.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Gestion des connexions sécurisés</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_5.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Gestion des connexions sécurisés</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_6.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Étapes importantes, je conseil de toujours faire linux like et converti en windows</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_7.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Une console évolué pour windows (moins vrai win 10 ?)</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Installation sous windows (2.17.0)</h3>
                        <img src="img/section2/step_8.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Ce que n'installe pas (et n'est pas) GIT</h3>

                        <ul>
                            <li>Pas d'exposition http des repository</li>
                            <li>Pas de système de contrôles (commit / etc)</li>
                            <li>Pas de gestion d'authentification</li>
                            <li>Pas de gestion d'autorisation</li>
                            <li>Pas d'interface d'administration</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Il existe plein de modules pour gérer ça autour</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Vérification de l'installation</h3>
                        <ul>
                            <li>Linux : dans un terminal</li>
                            <li>Windows : dans git bash</li>
                        </ul>

                        <img src="img/section2/git_version.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Windows : Attention d'inclure git/bin dans le path windows</li>
                            </ul>
                        </aside>
                    </section>

					<section>
						<h3>Paramétrer GIT</h3>
						<ol>
							<li>Locale (repository)<br />
								<pre><code class="Bash" data-trim>
									git config --local [action]
								</code></pre>
							</li>
							<li>Global (user)<br />
								<pre><code class="Bash" data-trim>
									git config --global [action]
								</code></pre>
							</li>
							<li>Système (tout users)<br />
								<pre><code class="Bash" data-trim>
									git config --system [action]
								</code></pre>
							</li>
						</ol>

                        <aside class="notes">
                            <ul>
                                <li>Il est possible de paramétrer de nombreuses choses</li>
                                <li>Outils externes, gestion couleurs, méthode de merge, ...</li>
                                <li>On verra cela au fur et à mesure</li>
                                <li>Toutes les valeurs possibles : https://git-scm.com/docs/git-config#_values</li>
                            </ul>
                        </aside>
					</section>

                    <section>
                        <h3>Identifiez vous !</h3>
                        <pre><code class="Bash" data-trim>
git config --global user.name r.hood

git config --global user.email robin.hood@gmail.com
                        </code></pre>
                    </section>

                    <section>
                        <h3>Paramétrer GIT</h3>
                        <ul>
                            <li>Vérifier ses paramètres<br />
                                <pre><code class="Bash" data-trim>
                                    git config --list
								</code></pre>
                            </li>
                            <li>Vérifier un paramètre spécifique<br />
                                <pre><code class="Bash" data-trim>
                                    git config user.email
								</code></pre>
                            </li>
                            <li>Supprimer une entrée dans la config
                                <pre><code class="Bash" data-trim>
                                    git config --global --unset user.email
								</code></pre>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Il peut y avoir plusieurs fois la même clé, git prend la dernière</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Paramétrer GIT</h3>
                        <ul>
                            <li>Editer un fichier de config manuellement
                                <pre><code class="Bash" data-trim>
                                    git config --global --edit
								</code></pre>
                            </li>
                        </ul>

                        <img src="img/section2/git_config_edit.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Exemple de git config</h3>
                        <pre><code class="Bash" data-trim>
[user]
name = Tony MEMBOT
email = t.membot@tatayoyo.com

[color]
# Enable colors in color-supporting terminals
ui = auto

[url "https://github.com/"]
insteadOf = git@github.com:
insteadOf = git://github.com/
insteadOf = git+https://github.com/
insteadOf = git+ssh://git@github.com:
insteadOf = ssh://git@github.com:
insteadOf = ssh+https://git@github.com/

[pull]
# This is GREAT… when you know what you're doing and are careful
# WARNING! This option, which does away with the one gotcha of
# auto-rebasing on pulls, is only available from 1.8.5 onwards.
rebase = preserve

[difftool "sourcetree"]
cmd = 'D:/dev/bekom/apps/Perforce/p4merge.exe' -C utf8 \"$LOCAL\" \"$REMOTE\"

[mergetool "sourcetree"]
cmd = 'D:/dev/bekom/apps/Perforce/p4merge.exe' -C utf8 \"$BASE\" \"$LOCAL\" \"$REMOTE\" \"$MERGED\"
trustExitCode = true

[status]
# Recursively traverse untracked directories to display all contents
showUntrackedFiles = all

[tag]
# Sort tags as version numbers whenever applicable, so 1.10.2 is AFTER 1.2.0.
sort = version:refname

[alias]
logall = log --graph --abbrev-commit --decorate --date=relative --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white) - %an%C(reset) %C(bold yellow)%d%C(reset)' --all
c = checkout
oups = commit --amend

[http]
proxy = http://proxy.ici.net:1234

[https]
proxy = http://proxy.ici.net:1234

# permet de supprimer les branches remotes obsolètes lorsqu'un fetch est réalisé.
[remote "origin"]
prune = true
                        </code></pre>
                    </section>

                    <section>
                        <h3>Get Started</h3>
                        <pre><code class="Bash" data-trim>
git init
touch readme.txt
git status
git add readme.txt
git status
git commit -m "My first commit !"
git status
git log
                        </code></pre>
                    </section>

                    <section>
                        <h3>Robin met en pratique</h3>

                        <ol>
                            <li>Installer git sur le poste</li>
                            <li>Vérifier l'installation</li>
                            <li>Configurer git au niveau user</li>
                            <li>Initialiser un repo vide</li>
                            <li>Créer un fichier vide dans ce repo et le commit</li>
                        </ol>
                    </section>

                    <section>
                        <h3>Robin est prêt à mettre en place GIT</h3>

                        <img src="img/section2/thumb_up.gif" class="imgNoDecorate"/>
                    </section>
                </section>

                <!-- *************************************************************** -->
                <!-- 3. MAITRISER LES BASES -->
                <!-- *************************************************************** -->

				<section>
                    <section>
                        <h2>Maîtriser les bases</h2>
                    </section>
				</section>

                <!-- *************************************************************** -->
                <!-- 3.1. GIT INIT -->
                <!-- *************************************************************** -->

				<section>
					<section>
						<h3>Initialiser un nouveau repository</h3>
						<pre><code class="Bash" data-trim>
							git init
						</code></pre>
						<ul>
							<li>Permet d'initialiser un repository vierge</li>
                            <li>Crée un dossier <b>.git</b></li>
                            <li>Initialise une branche nommée <b>master</b></li>
                            <li>Initialise une référence <b>HEAD</b></li>
                            <li>Initialise un <b>working tree/arbre de travail</b></li>
                            <li>Peut être utilisé dans un dossier contenant déjà des dossiers/fichiers</li>
						</ul>
					</section>

                    <section>
                        <h3>Dossier .git</h3>
                        <ul>
                            <li>Seulement présent à la racine du projet</li>
                            <li>Contient :
                                <ul>
                                    <li><b>config</b> : Fichiers de configuration (style .ini)</li>
                                    <li><b>objects/*</b> : Repository des objets</li>
                                    <li><b>refs/heads/*</b> : Branches</li>
                                    <li><b>refs/tags/*</b> : Tags</li>
                                    <li><b>logs/*</b> : Logs</li>
                                    <li><b>refs/remotes/*</b> : Tracking des remotes</li>
                                    <li><b>index</b> : le "cache index" (staging)</li>
                                    <li><b>HEAD</b> : pointeur sur un commit de la branche courante (parent du prochain commit)</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>https://blog.safia.rocks/post/171558325240/whats-inside-the-git-directory</li>
                            </ul>
                        </aside>
                    </section>

					<section>
						<h3>Les options intéressantes</h3>
						<ul>
							<li>Options :
                                <ul>
                                    <li><b>--bare</b> : Création d'un repository sans arbre de travail.</li>
                                    <li><b>--shared</b> : Partager son repository (user linux)</li>
                                </ul>
                            </li>
						</ul>
                        <p>
                            <b>Note</b> : Pour obtenir de l'aide sur une commande<br />
                            <pre><code class="Bash" data-trim>git [command] --help</code></pre>
                        </p>

                        <aside class="notes">
                            <ul>
                                <li>Bare est utile pour les repo serveur</li>
                            </ul>
                        </aside>
					</section>
				</section>

                <section>
                    <section>
                        <h3>Rappel structure du working tree</h3>

                        <img src="img/section2/local_stage_0.svg" class="imgNoDecorate"/>
                    </section>
                </section>

                <!-- *************************************************************** -->
                <!-- 3.2. GIT STATUS -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Status du repository</h3>
                        <pre><code class="Bash" data-trim>
							git status
						</code></pre>
                        <ul>
                            <li>Permet de voir l'état du working tree</li>
                            <li>Identifie les éléments
                                <ul>
                                    <li>Prêts à être commit (staged)</li>
                                    <li>Suivis mais non staged (tracked)</li>
                                    <li>Non suivis (untracked)</li>
                                </ul>
                            </li>
                            <li>Aide à la prochaine action</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Référence : https://git-scm.com/docs/git-status</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Git status</h3>

                        <img src="img/section3/git_status.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>
                        <ul>
                            <li>Options :
                                <ul>
                                    <li><b>--short | -s</b> : affiche le statut en short-format</li>
                                    <li><b>--branch | -b</b> : avec <b>short</b> affiche les infos de branche</li>
                                    <li><b>--untracked-files= | -u</b> : paramètre l'affichage des untracked
                                        <ul>
                                            <li><b>--untracked-files=no | -uno</b> : n'affiche rien</li>
                                            <li><b>--untracked-files=normal | -unormal</b> : affichage normal</li>
                                            <li><b>--untracked-files=all | -uall</b> : affichage verbeux</li>
                                        </ul>
                                    </li>
                                    <li><b>--ignored</b> : voir les fichiers ignorés</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                            Par défaut les untracked sont regroupés par dossier
                        </aside>
                    </section>

                    <section>
                        <h3>Git status</h3>
                        <img src="img/section3/git_status_s.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Utile pour des commandes de batch</li>
                                <li>Possible de préciser des formatages précis</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>
                        <pre><code class="Bash" data-trim>
git config --global color.status.added "green bold"

git config --global color.status.changed "red bold"

git config --global color.status.untracked "cyan bold"

git config --global status.showUntrackedFiles all
						</code></pre>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 3.3. GIT ADD -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Mettre à jour l'index</h3>

                        <img src="img/section3/cycle_add.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Mettre à jour l'index</h3>

                        <pre><code class="Bash" data-trim>
							git add [filename]
						</code></pre>

                        <ul>
                            <li>Permet d'ajouter des fichiers dans la zone d'index (staging)</li>
                            <li>Permet d'ajouter des <b>portions de code</b> dans la zone d'index</li>
                            <li>Se base sur le contenu du working tree</li>
                            <li>Ignore les fichiers / dossiers du .gitignore</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Ca permet également de supprimer des fichiers</li>
                                <li>Référence : https://git-scm.com/docs/git-add</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--all | -A</b> : Ajout des modifications / suppressions</li>
                                <li><b>--patch | -p</b> : Ajout partiel</li>
                                <li><b>--dry-run | -n</b> : Test, sans appliquer la commande</li>
                                <li><b>--ignore-removal</b> : Ignorer les fichiers supprimés</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Tous les png du dossier image (et sous dossiers)<br />
                                <pre><code class="Bash" data-trim>
		        					git add image/\*.png
        						</code></pre>
                            </li>
                            <li>Tous les properties à la racine (sans les sous dossiers)<br />
                                <pre><code class="Bash" data-trim>
		        					git add *.properties
        						</code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Ajouter tous les fichiers et sous dossiers à partir de la commande<br />
                                <pre><code class="Bash" data-trim>
		        					git add .
        						</code></pre>
                            </li>
                            <li>Prendre en compte toutes les modifications<br />
                                <pre><code class="Bash" data-trim>
		        					git add -A
        						</code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Ajouter du code partiellement<br />
                                <pre><code class="Bash" data-trim>
		        					git add -p index.html
        						</code></pre>
                            </li>
                            <li><a href="https://git-scm.com/docs/git-add#git-add-patch">https://git-scm.com/docs/git-add#git-add-patch</a></li>
                        </ul>
                        <img src="img/section3/git_add_p.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Très utile pour le gitflow, mais on y reviendra</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Ajouter du code partiellement<br />
                                <pre><code class="bash" data-trim>
y - stage this hunk
n - do not stage this hunk
q - quit; do not stage this hunk or any of the remaining ones
a - stage this hunk and all later hunks in the file
d - do not stage this hunk or any of the later hunks in the file
g - select a hunk to go to
/ - search for a hunk matching the given regex
j - leave this hunk undecided, see next undecided hunk
J - leave this hunk undecided, see next hunk
k - leave this hunk undecided, see previous undecided hunk
K - leave this hunk undecided, see previous hunk
s - split the current hunk into smaller hunks
e - manually edit the current hunk
? - print help
                                </code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Remarque</h3>

                        <pre><code class="Bash" data-trim>
							git add [filename]
						</code></pre>
                        <p><b>==</b></p>
                        <pre><code class="Bash" data-trim>
							git stage [filename]
						</code></pre>
                    </section>
				</section>

                <!-- *************************************************************** -->
                <!-- 3.4. GIT COMMIT -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Stocker mon travail</h3>

                        <img src="img/section3/cycle_commit.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Stocker mon travail</h3>

                        <pre><code class="Bash" data-trim>
							git commit
						</code></pre>

                        <ul>
                            <li>Permet de stocker l'index dans un commit</li>
                            <li>Une description est obligatoire !</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Git commit</h3>

                        <img src="img/section3/git_commit.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--all | -a</b> : Réalise un add avant de faire le commit (sauf pour les nouveaux fichiers)</li>
                                <li><b>--patch | -p</b> : Pour réaliser un commit partiel</li>
                                <li><b>--dry-run</b> : Test, sans appliquer la commande</li>
                                <li><b>--message "message" | -m "message"</b> : Appliquer une description</li>
                                <li><b>--amend</b> : met à jour le précédent commit plutôt que d'en recréer un</li>
                                <li>Il est possible de spécifier un dossier/fichier pour ne commit que lui</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>
                        <pre><code class="Bash" data-trim>
git config --global core.editor nano

git config --global commit.template ~/.template.txt

git config --global commit.status true
						</code></pre>

                        <aside class="notes">
                            <ul>
                                <li>template : défini un format hint, rappel des pratiques</li>
                                <li>commit.status : par défaut true, affiche le status dans le commit en commentaire</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Réaliser un commit de l'index en place avec description<br />
                                <pre><code class="Bash" data-trim>
		        					git commit -m "feat(section3): init section"
        						</code></pre>
                            </li>
                            <li>Réaliser un commit en réalisant un add<br />
                                <pre><code class="Bash" data-trim>
touch readme.txt
edit hello.txt
rm privateKey.txt
git commit -a
        						</code></pre>
                            </li>
                            <li>Si on ne donne aucune description</li>
                        </ul>
                        <img src="img/section3/git_commit_vide.png" class="imgNoDecorate"/>
                    </section>

                    <aside class="notes">
                        <ul>
                            <li>-A : le fichier readme.txt ne sera pas embarqué</li>
                        </ul>
                    </aside>
                </section>

                <!-- *************************************************************** -->
                <!-- 3.7. GIT LOG -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Historique des commit</h3>

                        <pre><code class="Bash" data-trim>
							git log
						</code></pre>

                        <ul>
                            <li>Permet de visualiser l'historique de commit</li>
                        </ul>

                        <img src="img/section3/git_log.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Par défaut s'affiche dans l'ordre chrono inverse (plus récent)</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--oneline</b> : Affiche un commit sur une ligne</li>
                                <li><b>--decorate=full</b> : Permet d'afficher les références</li>
                                <li><b>--format=</b> : Pour spécifier un format custom (short / fuller / ...)</li>
                                <li>Il est possible de spécifier un path pour connaître son historique</li>
                                <li>Possibilité de filtrer sur
                                    <ul>
                                        <li>Des dates (since / after / until / ...)</li>
                                        <li>Des numéros de commit, des auteurs</li>
                                        <li>Des merges, regex, ...</li>
                                    </ul>
                                </li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Récupérer le maximum d'informations<br />
                                <pre><code class="Bash" data-trim>
		        					git log --decorate=full --format=fuller
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section3/git_log_fuller.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Avoir une vue rapide sur l'ensemble des commits<br />
                                <pre><code class="Bash" data-trim>
		        					git log --oneline
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section3/git_log_oneline.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>
                        <pre><code class="Bash" data-trim>
git config --global format.pretty fuller

git config --global log.date relative
						</code></pre>
                        <ul>
                            <li>Format par défaut : médium</li>
                            <li>Date par défaut : Sat May 8 19:35:34 2010 -0500</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>En mode graph, avec les branches, format custom, date relative ...<br />
                                <pre><code class="Bash" data-trim>
git log --graph --abbrev-commit --decorate --date=relative --all
--format=format:'%C(bold blue)%h%C(reset) -
%C(bold green)(%ar)%C(reset) %C(white)%s%C(reset)
%C(dim white) - %an%C(reset) %C(bold yellow)%d%C(reset)'
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section3/git_log_all.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>J'arriverai jamais à retenir cette longue commande !</h3>
                        <img src="img/section3/memory.gif" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Les alias</h3>
                        <pre><code class="Bash" data-trim>
git config --global alias.logall "log --graph --abbrev-commit --decorate
--date=relative --all --format=format:'%C(bold blue)%h%C(reset) -
%C(bold green)(%ar)%C(reset) %C(white)%s%C(reset)
%C(dim white) - %an%C(reset) %C(bold yellow)%d%C(reset)'"
        						</code></pre>

                        <pre><code class="Bash" data-trim>
git config --global alias.ca "commit --amend"
        						</code></pre>

                        <pre><code class="Bash" data-trim>
git config --global alias.addjs "add \*.js"
        						</code></pre>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 3.5. EXERCICE INIT / STATUS / ADD / COMMIT / LOG -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Robin met en pratique</h3>

                        <ol>
                            <li>Initialiser un repo GIT dans un projet existant (index.html)</li>
                            <li>Ajouter tous les fichiers du repo à l'index</li>
                            <li>Réaliser le commit d'initalisation</li>
                            <li>Créer un fichier index.css & index.js. Modifier index.html sur 2 lignes différentes</li>
                            <li>Gérer et vérifier l'index pour ne commit que index.js</li>
                            <li>Gérer et vérifier l'index pour ne commit que la deuxième modification d'index.html</li>
                            <li>Commit également index.css & le reste d'index.html</li>
                            <li>Supprimer physiquement index.css et réaliser le commit</li>
                            <li>Vérifier via la commande log les commits réalisés</li>
                        </ol>
                    </section>

                    <section>
                        <h3>Robin est content</h3>

                        <img src="img/section3/exited.gif" class="imgNoDecorate"/>

                        <ul>
                            <li>Il a commit son projet, il est en mesure d'être safe dans ses développements</li>
                            <li>Mais il a des besoins un peu plus poussés
                                <ul>
                                    <li>Comment revenir sur un add/commit malencontreux</li>
                                    <li>Comment vérifier les différences entre deux versions</li>
                                    <li>Comment dominer le monde (du cinéma) ...</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 4. MAÎTRISER LES BASES - PART 2 -->
                <!-- *************************************************************** -->

                <!-- *************************************************************** -->
                <!-- 4.1 GIT IGNORE -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Ignorer des ressources</h3>

                        <pre><code class="Bash" data-trim>
							.gitignore
						</code></pre>

                        <ul>
                            <li>Le fichier (A la racine du projet) permet de spécifier les ressources à ignorer</li>
                        </ul>

                        <pre><code class="Bash" data-trim>
### IntellIJ ###
.idea/**/workspace.xml
.idea/**/tasks.xml
.idea/dictionaries

### Java ###
*.class
*.jar
*.war

### Maven ###
target/
pom.xml.releaseBackup
pom.xml.versionsBackup
                        </code></pre>

                        <aside class="notes">
                            <ul>
                                <li>gitignore.io</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Ignorer des ressources</h3>

                        <ul>
                            <li>Toutes les commandes GIT ignoreront par défaut les ressources (non déjà tracked) définis dans le fichier</li>
                            <li>Le fichier .gitignore doit être commit</li>
                            <li>Il existe des générateurs : <a href="https://www.gitignore.io/">https://www.gitignore.io/</a></li>
                        </ul>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 4.1.1 Petite note sur le HEAD -->
                <!-- *************************************************************** -->

                <section>
                    <h3>Une petite note sur HEAD</h3>

                    <ul>
                        <li>HEAD est une référence (pointeur) à la branche courante (master) et au commit courant</li>
                        <li>HEAD^ == HEAD~1 désigne le commit précédent</li>
                        <li>HEAD^^ == HEAD~2 désigne l'avant dernier commit</li>
                        <li>HEAD~X désigne le Xème commit en partant de HEAD</li>
                        <li>Ces annotations sont valables sur les branches : master~2</li>
                    </ul>

                    <img src="img/section3/git_log_all.png" class="imgNoDecorate"/>
                </section>

                <!-- *************************************************************** -->
                <!-- 4.2 GIT DIFF -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Voir les différences entre deux états</h3>

                        <img src="img/section4/cycle_diff.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Voir les différences entre deux états</h3>

                        <pre><code class="Bash" data-trim>
							git diff
						</code></pre>

                        <ul>
                            <li>Permet de visualiser les différences entre
                                <ul>
                                    <li>Le répertoire de travail et l'index (défaut)</li>
                                    <li>L'index et le HEAD</li>
                                    <li>Deux commits</li>
                                    <li>...</li>
                                </ul>
                            </li>
                            <li>Pour tout le projet, ou des fichiers définis</li>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--no-index [path] [path]</b> : Comparer deux fichiers</li>
                                <li><b>--cached [commit]</b> : Comparer l'index et un commit</li>
                                <li><b>--staged [commit]</b> : idem cached</li>
                                <li><b>[commit] [commit]</b> : Comparer deux commits</li>
                                <li><b>--diff-algorithm={algo}</b>: choisir l'algo de diff
                                <ul>
                                    <li><b>myers</b> : greedy, par défaut</li>
                                    <li><b>minimal</b> : myers avec une limite CPU</li>
                                    <li><b>patience</b> : plus lent mais précis</li>
                                    <li><b>histogram</b> : extension de patience</li>
                                </ul></li>
                            </ul>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Tout un tas d'option pour stats</li>
                                <li>Différence d'affichage du diff</li>
                                <li>Référence : <a href="https://git-scm.com/docs/git-diff">https://git-scm.com/docs/git-diff</a></li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>La boite de pandore</h3>
                        <ul>
                            <li>Git diff est très complet, nombreuses options</li>
                            <li>Commandes spécialisées (raw output format)
                                <ul>
                                    <li>git-diff-index [tree-ish]</li>
                                    <li>git-diff-index --cached [tree-ish]</li>
                                    <li>git-diff-tree [-r] [tree-ish-1] [tree-ish-2]</li>
                                    <li>git-diff-files</li>
                                </ul>
                            </li>
                        </ul>

                        <img src="img/section4/git_diff_raw.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>raw est utilisé pour les traitements automatique</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <p>Diff par défaut (dév vs index)<br />
                            <pre><code class="Bash" data-trim>
                                git diff
                            </code></pre>
                        </p>

                        <img src="img/section4/git_diff.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Ce qui est déjà dans l'index n'apparaît pas</li>
                                <li>Par défaut le diff est sur la ligne</li>
                                <li>Chaque modifications est un diff</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <p>Diff par défaut avec mots colorés<br />
                            <pre><code class="Bash" data-trim>
                                git diff --color-words
                            </code></pre>
                        </p>

                        <img src="img/section4/git_diff_color_word.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <p>Diff entre le staged et le HEAD<br />
                            <pre><code class="Bash" data-trim>
                                git diff --staged
                            </code></pre>
                        </p>

                        <img src="img/section4/git_diff_staged.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On ne précise pas de commit pas défaut donc HEAD</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <p>Diff entre deux commits<br />
                        <pre><code class="Bash" data-trim>
                                git diff 6813253 71ba976
                            </code></pre>
                        </p>

                        <img src="img/section4/git_diff_commit.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On ne précise pas de commit pas défaut donc HEAD</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Diff entre deux commits</h3>
                        <p>Attention à l'ordre !<br />
                        <pre><code class="Bash" data-trim>
                                git diff HEAD^ HEAD
                            </code></pre>
                            !=
                        <pre><code class="Bash" data-trim>
                                git diff HEAD HEAD^
                            </code></pre>
                        </p>

                        <img src="img/section4/git_diff_commit_warn.png" class="imgNoDecorate"/>

                        <p>
                            <pre><code class="Bash" data-trim>
                                git diff [source] [target]
                            </code></pre>
                        </p>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <pre><code class="Bash" data-trim>
git config --global color.diff.old "red bold"
git config --global color.diff.new "green bold"
git config --global diff.algorithm histogram
                            </code></pre>
                        </p>

                        <ul>
                            <li><b>color.diff.</b> : context, old, new, commit, whitespace, oldMoved, newMoved, ...</li>
                            <li><b>value</b> : normal, black, red, green, yellow, blue, magenta, cyan, white, bold, dim, ul, blink, reverse</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Si deux couleurs, 1ere = text, 2ème = back</li>
                                <li>Pourquoi algo histogram ? => prochain slide</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Algorithm myers vs patience</h3>

                        <pre><code class="Bash" data-trim>
git config --global diff.algorithm patience
                            </code></pre>
                        </p>

                        <img src="img/section4/git_diff_algorithm.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>https://gist.github.com/roryokane/6f9061d3a60c1ba41237</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 4.3. GIT CHECKOUT -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Annuler mes modification en cours</h3>

                        <img src="img/section4/cycle_checkout.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Annuler mes modification en cours</h3>

                        <pre><code class="Bash" data-trim>
							git checkout [filename]
						</code></pre>

                        <ul>
                            <li>Met à jour un fichier dans le répertoire de travail avec la version de l'index ou du repository</li>
                            <li>Une fois fait les modifications sont perdues !</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Git checkout</h3>

                        <pre><code class="Bash" data-trim>
                            git checkout -- index.html
                        </code></pre>

                        <img src="img/section4/git_checkout.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Les -- sont une commande unix pour ne plus interpréter les options</li>
                                <li>Dans le cas d'une branche qui porte le même nom qu'un fichier</li>
                                <li>Valable pour toutes les commandes qui prennent des chemins</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Supprimer également ce qu'il y a dans l'index<br />
                                <pre><code class="Bash" data-trim>
		        					git checkout HEAD -- index.html
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_checkout_head.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Se mettre à jour selon un commit<br />
                                <pre><code class="Bash" data-trim>
		        					git checkout 0e40D47 index.html
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_checkout_commit.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Oups, j'ai supprimé un fichier<br />
                                <pre><code class="Bash" data-trim>
                                    git checkout -- '*.html'
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_checkout_html.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Attention aux quotes obligatoires</li>
                                <li>Ici on se base sur l'index, dans l'index le fichier supprimé existait</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 4.4. GIT RESET -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Annuler le dernier commit ou l'index</h3>

                        <img src="img/section4/cycle_reset.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Annuler un commit ou un index</h3>

                        <pre><code class="Bash" data-trim>
git reset [path]
git reset [toTargetCommit]
						</code></pre>

                        <ul>
                            <li>En précisant une ressource, la désindexe pour la remettre en statut modifiée
                            <ul>
                                <li>C'est l'inverse du git add</li>
                            </ul></li>
                            <li>En précisant un commit, annule tout jusqu'à ce commit et remet les ressources associées en statut modifiées
                            <ul>
                                <li>C'est l'inverse du git commit</li>
                            </ul></li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Attention au reset commit : on reset VERS ce commit </li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Désindexer une ressource</h3>

                        <pre><code class="Bash" data-trim>
							git reset index.html
						</code></pre>

                        <img src="img/section4/git_reset.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Désindexer une ressource partiellement</h3>

                        <pre><code class="Bash" data-trim>
							git reset -p index.html
						</code></pre>

                        <img src="img/section4/git_reset_partiel.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Supprimer un commit</h3>

                        <pre><code class="Bash" data-trim>
git reset 027def7
git reset HEAD
						</code></pre>

                        <img src="img/section4/git_reset_commit.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--soft</b> : Conserve les ressources reset (default)</li>
                                <li><b>--hard</b> : Supprime les ressources reset</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Supprimer totalement les deux derniers commits<br />
                                <pre><code class="Bash" data-trim>
		        					git reset--hard HEAD~2
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_reset_hard.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            Attention, le reset c'est VERS le commit, ici on annuler HEAD et HEAD^
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 4.5. GIT REVERT -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Annuler un commit plus ancien</h3>

                        <img src="img/section4/cycle_revert.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Annuler un commit plus ancien</h3>

                        <pre><code class="Bash" data-trim>
                            git revert [TargetCommit]
						</code></pre>

                        <ul>
                            <li>Crée un nouveau commit avec l'effet inverse du commit ciblé
                                <ul>
                                    <li>Les fichiers créés sont supprimés et inversement</li>
                                    <li>Les modifications sont inversées</li>
                                    <li>Etc.</li>
                                </ul>
                            </li>
                            <li>La commande peut entraîner des conflits</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>On verra la résolution des conflit plus tard.</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--no-edit</b> : Pour laisser git gérer le message du commit revert</li>
                                <li><b>--no-commit</b> : Pour ne pas laisser git faire un commit</li>
                                <li>En cas de conflit :
                                    <ul>
                                        <li><b>--continue</b> : pour continuer après la résolution du conflit </li>
                                        <li><b>--abort</b> : pour abandonner le revert en cours </li>
                                    </ul>
                                </li>
                            </ul>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>--no-commit : git met tout dans l'index prêt à être commit</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Revert un commit au milieu de l'arbre<br />
                                <pre><code class="Bash" data-trim>
		        					git revert 0e40d47
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_revert.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Utilisation de show : décrit le contenu d'un commit</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Revert un commit au milieu de l'arbre avec conflit<br />
                                <pre><code class="Bash" data-trim>
		        					git revert 0e40d47
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_revert_conflit.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Revert avec conflit mais qu'on abandonne<br />
                                <pre><code class="Bash" data-trim>
		        					git revert 0e40d47
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_revert_conflit_abort.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Revert plusieurs commits (premier non inclus)<br />
                                <pre><code class="Bash" data-trim>
		        					git revert ca82cb2..0e40d47
        						</code></pre>
                            </li>
                        </ul>
                        <img src="img/section4/git_revert_multiple.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Il y a bien un commit par revert effectué</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 4.6. EXERCICE ignore / diff / checkout / reset / revert -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Robin met en pratique</h3>

                        <ol>
                            <li>Modifier index.html, l'add à l'index (sans le commit)</li>
                            <li>Modifier index.html puis revenir à l'état de l'index</li>
                            <li>Créer un fichier test.txt à la racine et faire que git l'ignore</li>
                            <li>Réaliser le commit du gitignore sans commit index.html</li>
                            <li>Réaliser le commit d'index.html</li>
                            <li>Vérifier le diff entre le commit HEAD~1 et le HEAD</li>
                            <li>Revert le commit du git ignore</li>
                            <li>Reset le revert réalisé précédemment</li>
                        </ol>
                    </section>

                    <section>
                        <h3>Robin se sent un maître en git</h3>

                        <img src="img/section4/master.gif" class="imgNoDecorate"/>

                        <ul>
                            <li>Mais il a besoin de faire des évolutions en parallèle ...</li>
                            <li>Mais aussi de faire des poc de librairies / fonctions ...</li>
                            <li>... tout ça sans casser son code principal</li>
                        </ul>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5. Le système de branche -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h2>Travailler avec des branches</h2>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Travailler avec des branches</h3>

                        <ul>
                            <li>C'est l'un des grands intérêts de GIT</li>
                            <li>Travailler en parallèle, switcher rapidement d'évolutions</li>
                            <li>Une branche n'est qu'un pointeur sur un commit</li>
                            <li>On travaille depuis le début sur une branche : master</li>
                            <li>Qui dit branch, dit merge, mais GIT est optimisé pour</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Exemple d'arbre GIT</h3>

                        <img src="img/section5/Branch_full.svg" class="imgNoDecorate"/>

                        <p class="fragment">Il se passe quoi si je commit sur master (HEAD) ?</p>

                        <aside class="notes">
                            <ul>
                                <li>HEAD indique la branche courante (celle de travail)</li>
                                <li>On peut avoir plusieurs étiquettes sur un commit</li>
                                <li>On peut voir un exemple d'un point de merge</li>
                                <li>feat2 est le résultat d'un rebase</li>
                                <li>Les numéros de commit sont juste indicatifs</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Commit sur master</h3>

                        <img src="img/section5/Branch_full_commit.svg" class="imgNoDecorate"/>

                        <p class="fragment">Il se passe quoi si je commit sur feat2 ?</p>

                        <aside class="notes">
                            <ul>
                                <li>Implique que je switch de branche</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Commit sur feat2</h3>

                        <img src="img/section5/Branch_full_commit_2.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On crée une déviance</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.1 GIT BRANCH -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Gérer les branches</h3>

                        <pre><code class="Bash" data-trim>
							git branch
						</code></pre>

                        <ul>
                            <li>Permet de lister / créer / supprimer une branche</li>
                            <li>Permet d'avoir une vision d'ensemble des branches</li>
                            <li>Ne manipule pas l'arbre en lui même, juste les références</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Référence : https://git-scm.com/docs/git-branch</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>
                        <ul>
                            <li>Options :</li>
                            <li>
                                <ul>
                                    <li><b>--list</b> : Affiche la liste des branches locales</li>
                                    <li><b>--all | -a</b> : Affiche les branches locales et remotes</li>
                                    <li><b>--no-merged</b> : liste les branches non merged</li>
                                    <li><b>--delete | -d</b> : Supprime la branche si elle est merged</li>
                                    <li><b>--delete --force | -D</b> : Supprime la branche</li>
                                    <li><b>--move | -m</b> : renomme une branche</li>
                                    <li><b>--contain [commit]</b> : liste les branches contenant le commit</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Créer une branche sur le commit pointé par HEAD<br />
                                <pre><code class="Bash" data-trim>
		        					git branch feat1
        						</code></pre>
                            </li>
                            <li>Créer une branche sur le commit désigné<br />
                                <pre><code class="Bash" data-trim>
		        					git branch feat2 0e40d47
        						</code></pre>
                            </li>
                            <li>Lister les branches<br />
                                <pre><code class="Bash" data-trim>
		        					git branch --list
        						</code></pre>
                            </li>
                        </ul>

                        <img src="img/section5/git_branch.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Savoir quelles branches contient mon commit<br />
                                <pre><code class="Bash" data-trim>
		        					git branch --contain 300a98f
        						</code></pre>
                            </li>
                        </ul>

                        <img src="img/section5/git_branch_contain.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Renommer une branche<br />
                                <pre><code class="Bash" data-trim>
		        					git branch -m feat1 feature1
        						</code></pre>
                            </li>
                            <li>Supprimer une branche<br />
                                <pre><code class="Bash" data-trim>
                                    git branch -d feature1
        						</code></pre>
                                <pre><code class="Bash" data-trim>
                                    git branch -D feature1
        						</code></pre>
                            </li>
                            <li>Attention Git interdit de supprimer la branche courante</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Pourquoi git protège le delete</h3>
                        <ul>
                            <li>Pour vivre dans git un commit doit être attaché à une référence</li>
                            <li>Un commit non référencé passe dans le garbage</li>
                            <li>Supprimer une branche non mergé, c'est "perdre" les commits qui s'y trouvent</li>
                        </ul>

                        <img src="img/section5/Branch_delete.svg" class="imgNoDecorate" />

                        <aside class="notes">
                            <ul>
                                <li>Supprimer la branche test fait perdre les commit 11 / 12.</li>
                                <li>Supprimer la branche feat1 ne fait rien perdre.</li>
                                <li>"Perdre" est relatif. On peut s'en sortir avec des commandes avancées tant que le garbage n'est pas passé.</li>
                                <li>http://sametmax.com/recuperer-une-branche-supprimee-sous-git/</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.2 GIT TAG -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Tag un commit</h3>

                        <pre><code class="Bash" data-trim>
							git tag nomTag [branch | commit]
						</code></pre>

                        <ul>
                            <li>Permet de placer une référence statique sur un <b>commit</b></li>
                            <li>Si on cible une branche, c'est le commit HEAD de la branche qui est tag</li>
                            <li>Le nom du tag doit être unique</li>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Lister les tags<br />
                                <pre><code class="Bash" data-trim>
		        					git tag
        						</code></pre>
                            </li>
                            <li>Créer un tag sur le commit associé au HEAD<br />
                                <pre><code class="Bash" data-trim>
                                    git tag v1.0
        						</code></pre>
                            </li>
                            <li>Créer un tag sur une branche<br />
                                <pre><code class="Bash" data-trim>
                                    git tag v1.0 feat2
        						</code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Voir les tags dans les logs</h3>

                        <img src="img/section5/git_tag_log.png" class="imgNoDecorate" alt="git_tag_log.png"/>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Possibilité pour un tag d'être :
                                <ul>
                                    <li>supprimé</li>
                                    <li>annoté</li>
                                    <li>signé (GPC)</li>
                                    <li>...</li>
                                </ul>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li><a href="https://git-scm.com/docs/git-tag">https://git-scm.com/docs/git-tag</a></li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.3 GIT CHECKOUT -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Checkout</h3>

                        <img src="img/section5/what.gif" class="imgNoDecorate fragment"/>

                        <aside class="notes">
                            <ul>
                                <li>Checkout ne sert pas qu'à reset un fichier dans l'index</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Switcher de révision</h3>

                        <pre><code class="Bash" data-trim>
							git checkout [branch | commit]
						</code></pre>

                        <ul>
                            <li>Checkout ne sert pas qu'à reset l'index</li>
                            <li>Permet de (dé)placer son working tree
                                <ul>
                                    <li>Sur un commit (SHA-1)</li>
                                    <li>Sur une branche</li>
                                    <li>Sur un tag</li>
                                </ul>
                            </li>
                            <li>Le switch peut être bloqué si modifications "bloquantes" dans l'index</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>C'est bien le working tree qu'on switch sur une révision.</li>
                                <li>Si le switch provoque un conflit, généralement c'est bloqué.</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Switcher sur une branche</h3>
                        <pre><code class="Bash" data-trim>
							git checkout feat1
						</code></pre>

                        <img src="img/section5/Branch_checkout_branch.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Si je commit, celui ci partira du commit 9 et la branche et le head suivront</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Switcher sur un commit</h3>
                        <pre><code class="Bash" data-trim>
							git checkout 2
						</code></pre>

                        <img src="img/section5/Branch_checkout_commit_1.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Le HEAD passe en detached car lié à aucune branche</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Commit en Detached Head</h3>
                        <pre><code class="Bash" data-trim>
							git commit -am "I'll lost my work"
						</code></pre>

                        <img src="img/section5/Branch_checkout_commit_2.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Perdre des commits</h3>
                        <pre><code class="Bash" data-trim>
							git checkout master
						</code></pre>

                        <img src="img/section5/Branch_checkout_commit_3.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Switcher sur un tag</h3>
                        <pre><code class="Bash" data-trim>
							git checkout V1.0.0
						</code></pre>

                        <img src="img/section5/Branch_checkout_tag.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Un tag est forcément en "DETACHED" car il ne peut pas évoluer</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Créer et switcher de branche</h3>
                        <pre><code class="Bash" data-trim>
							git checkout -b feat4
						</code></pre>

                        <img src="img/section5/git_checkout_b.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On utilise plutôt ça pour créer une branche</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.4. EXERCICE branch / checkout -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Robin met en pratique</h3>

                        <ol>
                            <li>Analyser les logs entre chaque commande</li>
                            <li>Depuis master avec la commande branch la branche "br1"</li>
                            <li>Créer avec la commande checkout la branche "br2"</li>
                            <li>Commit sur br2 en ajoutant un nouveau fichier</li>
                            <li>Tenter de supprimer "br2"</li>
                            <li>Commit sur master en ajoutant un autre fichier</li>
                            <li>Supprimer "br1" qui est en fait inutile</li>
                            <li>Tenter de supprimer "br2"</li>
                            <li>Réellement supprimer "br2"</li>
                            <li>Checkout sur un vieux commit et y réaliser un nouveau commit puis revenir sur master</li>
                        </ol>
                    </section>

                    <section>
                        <h3>Robin maîtrise son arbre !</h3>

                        <img src="img/section5/branch_success.gif" class="imgNoDecorate"/>

                        <ul>
                            <li>Mais maintenant que ses features sont terminées, il veut tout fusionner ...</li>
                            <li>Et certaines branches sont un peu moches, il aimerait réorganiser ...</li>
                        </ul>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.5 GIT MERGE -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Fusionner deux branches</h3>

                        <img src="img/section5/git_merge_meme.gif" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Fusionner deux branches</h3>

                        <pre><code class="Bash" data-trim>
                            git merge targetBranch
						</code></pre>

                        <ul>
                            <li>Récupère le contenu de targetBranch pour le fusionner dans la branche courante</li>
                            <li>Tous les commits depuis le point d'origine commun aux deux branches sont récupérés</li>
                            <li>La commande peut entraîner des conflits</li>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Fusionner sur master qui n'a pas dévié</h3>

                        <pre><code class="Bash" data-trim>
							git merge feat1
						</code></pre>

                        <img src="img/section5/merge_ff_step_1.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On appel ce type de merge le fast forward</li>
                                <li>Il a juste un déplacement de la référence master</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Fusionner sur master qui a dévié</h3>

                        <pre><code class="Bash" data-trim>
							git merge feat1
						</code></pre>

                        <img src="img/section5/merge_noff_step1.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On appel ce type de merge le no fast forward</li>
                                <li>Il a juste un commit de merge qui est créé, la branche sera toujours visible</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--no-ff</b> : Pour forcer un merge avec commit</li>
                                <li><b>--ff-only</b> : Pour autoriser que les merge fast forward</li>
                                <li><b>-m</b> : Pour préciser le message de commit de merge</li>
                                <li>En cas de conflit :
                                    <ul>
                                        <li><b>--continue</b> : pour continuer après la résolution du conflit</li>
                                        <li><b>--abort</b> : pour abandonner le merge en cours</li>
                                    </ul>
                                </li>
                            </ul>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>--ff-only : si pas fast forward, le merge échoue</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.6 RÉSOUDRE UN CONFLIT -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Résoudre un conflit</h3>

                        <ul>
                            <li>Plusieurs opérations peuvent produire un conflit</li>
                            <li>La résolution se fait en plusieurs étapes
                                <ol>
                                    <li>Identifier les fichiers en conflit avec git status</li>
                                    <li>Editer les fichiers et résoudre les conflits</li>
                                    <li>Réaliser un git add ou git rm sur les fichiers en conflits</li>
                                    <li>Réaliser un git merge --continue pour continuer le merge</li>
                                </ol>
                            </li>
                            <li>A tout moment, on peut abandonner le merge<br />
                                <pre><code class="Bash" data-trim>
                                    git merge --abort
                                </code></pre>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Produire un conflit : merge / revert / pull / ...</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Résoudre un conflit manuellement</h3>

                        <ul>
                            <li>Dans un fichier, il faut se repérer aux marqueurs de conflits
                            <ul>
                                <li><b><<<<<<< HEAD</b> : ce qui suit est la branche locale</li>
                                <li><b>=======</b> : ce qui suit est la branche en cours de merge</li>
                                <li><b>>>>>>> branchName</b> : marque la fin du conflit</li>
                            </ul></li>
                        </ul>

                        <img src="img/section5/merge_conflict.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Résoudre un conflit graphiquement</h3>

                        <ul>
                            <li>Résoudre un conflit est parfois complexe manuellement</li>
                            <li>Les éditeurs de texte ont quasi tous un plugin permettant de le gérer</li>
                            <li>On peut paramétrer git sur un logiciel externe pour gérer les conflits<br />
                                <pre><code class="Bash" data-trim>
                                    git config merge.tool vimdiff
						        </code></pre>
                            </li>
                            <li>Pour le lancer lors d'un conflit : <br />
                                <pre><code class="Bash" data-trim>
                                    git mergetool
                                </code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Résoudre un conflit graphiquement</h3>

                        <img src="img/section5/git_mergetool.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>vimdiff : https://gist.github.com/karenyyng/f19ff75c60f18b4b8149</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.7 GIT REBASE -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Travailler l'arbre de commit</h3>

                        <pre><code class="Bash" data-trim>
                            git rebase [branch | commit]
						</code></pre>

                        <ul>
                            <li>De base, récupère les commits de la branche courante pour les remettre à partir de la révision ciblée</li>
                            <li>Permet également de travailler ses commits :
                            <ul>
                                <li>Renommer</li>
                                <li>Réordonner</li>
                                <li>Supprimer</li>
                                <li>Fusionner</li>
                                <li>Éditer</li>
                            </ul></li>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Rebase sur une révision</h3>

                        <img src="img/section5/Rebase_branche.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Important : ce sont de nouveaux commit</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Changer l'ordre de commit</h3>

                        <img src="img/section5/Rebase_interactif_ordre.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Important : ce sont de nouveaux commit</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Fusionner des commits</h3>

                        <img src="img/section5/Rebase_interactif_squash.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Important : ce sont de nouveaux commit</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Se rebaser (branche courante) sur master<br />
                                <pre><code class="Bash" data-trim>
                                    git rebase master
        						</code></pre>
                            </li>
                            <li>Travailler les deux derniers commits de la branche<br />
                                <pre><code class="Bash" data-trim>
		        					git rebase -i HEAD~2
        						</code></pre>
                            </li>
                        </ul>

                        <img src="img/section5/rebase_options.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Attention HEAD~2 cible le 3ème commit. Rebase prend tout ce qui est après</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>-i</b> : Active le mode interactif</li>
                                <li><b>--onto</b> : Permet de spécifier la cible (par défaut l'upstream)</li>
                                <li><b>--exec</b> : Exécute une commande pour chaque étape de rebase</li>
                                <li>En cas de conflit :
                                    <ul>
                                        <li><b>--continue</b> : pour continuer après la résolution du conflit</li>
                                        <li><b>--abort</b> : pour abandonner le rebase en cours</li>
                                    </ul>
                                </li>
                            </ul>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Rebase hiérarchique</h3>
                        <pre><code class="Bash" data-trim>
                            git rebase master
                        </code></pre>

                        <img src="img/section5/Rebase_hierarchique_full.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Tous les commits ont été pris en compte jusqu'à master</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Rebase hiérarchique</h3>
                        <pre><code class="Bash" data-trim>
                            git rebase feat1 feat2 --onto master
                        </code></pre>

                        <img src="img/section5/Rebase_hierarchique_onto.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Je prend tous les commits de feat1 vers feat2 et j'applique dans master</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.8  LES COMMANDES DÉJÀ VUES -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Les commandes déjà vues</h3>
                        <ul>
                            <li>git diff branch1 branch2</li>
                            <li>git log branch1</li>
                            <li>Sur un commit de merge :
                                <ul>
                                    <li>git reset HEAD</li>
                                    <li>git revert HEAD -m numParent</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Revert un merge</h3>

                        <pre><code class="Bash" data-trim>
git show HEAD
git revert HEAD -m 2
                        </code></pre>

                        <img src="img/section5/git_revert_merge.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On doit préciser dans quel état on veut revenir</li>
                                <li>-m prend un entier à partir de 1</li>
                                <li>Git show donne l'ordre</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 5.9. EXERCICE branch / checkout / merge /  -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Robin met en pratique</h3>

                        <ol>
                            <li>Consulter les logs entre chaque commande</li>
                            <li>Depuis master, créer les branches feat1, feat2, feat3</li>
                            <li>Commit sur feat2 et merger feat2 sur master</li>
                            <li>Commit sur feat1 en modifiant index.html</li>
                            <li>Commit sur master en modifiant index.html au même endroit</li>
                            <li>Merger feat1 sur master</li>
                            <li>Sur feat3, réaliser trois commit nommés "un" / "deux" / "trois" puis en changer l'ordre</li>
                            <li>Rebase feat3 sur master puis merger feat3 sur master</li>
                            <li>Sur master, faire deux commit nommés "done" / "oups"</li>
                            <li>Avec rebase fusionner "oups" dans "done"</li>
                        </ol>
                    </section>

                    <section>
                        <h3>Robin est un vrai bûcheron</h3>

                        <img src="img/section5/tree_chuck.gif" class="imgNoDecorate"/>

                        <ul>
                            <li>Mais il a  maintenant trop de sujets pour travailler seul ...</li>
                            <li>Et il souhaite ouvrir son magnifique code au monde entier</li>
                        </ul>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 6. Explorons les repos distant -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h2>Travailler en collaboratif avec un repo distant</h2>
                    </section>

                    <section>
                        <h3>Initialiser un repository distant</h3>

                        <ul>
                            <li>Sur un cloud : <b>github</b> / bitbucket / assembla / ...</li>
                            <li>Sur un réseau entreprise : Git / Gitlab / ...</li>
                            <li>Normalement sans working tree <br />
                                <pre><code class="Bash" data-trim>
                                    git init --bare
                                </code></pre>
                            </li>
                            <li>Différent type de communication : Git / SSH / HTTPS</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>SSH plus sécurisé "normalement"</li>
                                <li>HTTPS privilégié aujourd'hui</li>
                                <li>On va se basé sur github</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 6.1. GIT CLONE -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Cloner un repository distant</h3>

                        <img src="img/section6/cycle_clone.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>On est bien décentraliser, on parle de clonage</li>
                                <li>On duplique, le repo cloner peut à son tour devenir source</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Cloner un repository distant</h3>

                        <pre><code class="Bash" data-trim>
                            git clone targetUrl
						</code></pre>

                        <ul>
                            <li>Duplique un repository distant en local</li>
                            <li>Récupère tout l'état du repo (git fetch et pull sont automatiquement réalisés)</li>
                            <li>Place automatiquement le working tree sur la branche du remote (généralement master)</li>
                            <li>La branche locale est automatiquement liée à sa remote</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>https://git-scm.com/docs/git-clone</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Cloner un repository distant</h3>

                        <img src="img/section6/Git_clone.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Et si je commit ?</h3>

                        <img src="img/section6/Git_clone_after_commit.svg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Cloner un repo cloné ?</h3>
                        <ul>
                            <li>Clone ne crée que la branche par défaut du repo (celle sur laquelle le repo distant est positionné)</li>
                            <li>
                                Si on clone un repo cloné, on ne récupère que ses infos à lui sans les infos remote<br />
                                => On ne récupère que les branches existantes (pas les remote du remote).
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>-l | --local</b> : Permet de cloner en passant un chemin</li>
                                <li><b>--bare</b> : Pour cloner sans créer de working tree</li>
                                <li><b>--mirror</b> : Avec bare, permet de créer un mirror du repo</li>
                            </ul>
                        </ul>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <ul>
                            <li>Cloner un repository local<br />
                                <pre><code class="Bash" data-trim>
                                    git clone --local /home/robin/projets/myProject
                                </code></pre>
                            </li>
                            <li>Cloner un repository distant en https (recommandé)<br />
                                <pre><code class="Bash" data-trim>
                                    git clone https://github.com/reivon/FormationGit.git
                                </code></pre>
                            </li>
                            <li>Cloner un repostory distant en ssh / git<br />
                                <pre><code class="Bash" data-trim>
git clone git@github.com:reivon/FormationGit.git
git clone ssh://git@example.org/~/example.git
                                </code></pre>
                            </li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Github recommande par défaut https, même si ssh parait plus sûr</li>
                                <li>Git n'est pas sécurisé (pas d'authentification)</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>La variable origin</h3>
                        <ul>
                            <li>Lors d'un clone <b>origin</b> est automatiquement créée pour le repo</li>
                            <li>Contient l'url de repo remote</li>
                            <li>Variable utilisée dans les différentes commandes</li>
                            <li>On peut modifier origin <br/>
                                <pre><code class="Bash" data-trim>
git remote -v
# origin  https://github.com/user/repo.git (fetch)
# origin  https://github.com/user/repo.git (push)

git remote set-url origin https://github.com/user/repo2.git
                                </code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>La variable origin</h3>
                        <ul>
                            <li>Sa déclaration est dans le git config du repo <br />
                                <pre><code class="Bash" data-trim>
                                    git config --local --edit
                                </code></pre>
                            </li>
                        </ul>

                        <img src="img/section6/git_config_remote.png" class="imgNoDecorate"/>

                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 6.2. GIT FETCH -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h3>Récupérer l'état du repo distant</h3>

                        <img src="img/section6/cycle_fetch.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li></li>
                                <li>On duplique, le repo cloner peut à son tour devenir source</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Récupérer l'état du repo distant</h3>

                        <pre><code class="Bash" data-trim>
                            git fetch [remote]
						</code></pre>

                        <ul>
                            <li>Met à jour les références remotes (branches/tags) en local</li>
                            <li>Ne modifie <b>pas</b> les branches locales</li>
                            <li>Si remote n'est pas spécifié => origin</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>https://git-scm.com/docs/git-fetch</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>-all</b> : Fetch tous les remotes (pas seulement origin)</li>
                                <li><b>--dry-run</b> : Montre ce qui va être réalisé, sans l'appliquer</li>
                                <li><b>--prune | -p</b> : Avant le fetch, supprime toute les références remote qui n'existent plus dans le repo distant</li>
                            </ul>
                        </ul>

                        <pre><code class="Bash" data-trim>
                            git config --global fetch.prune true
                        </code></pre>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <pre><code class="Bash" data-trim>
                            git fetch --prune
                        </code></pre>

                        <img src="img/section6/git_fetch.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Ici le prune ne fait rien, pas de branche remote supprimée</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 6.3. GIT PULL -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Mettre à jour son local</h3>

                        <img src="img/section6/cycle_pull.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li></li>
                                <li>On met son master au niveau de d'origin/master</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Mettre à jour son local</h3>

                        <pre><code class="Bash" data-trim>
                            git pull [options] [remote] [branch]
						</code></pre>

                        <ul>
                            <li>Met à jour sa branche locale selon la branche distante</li>
                            <li>C'est une combinaison d'un git fetch et d'un git merge</li>
                            <li>Par défaut, le merge est fast forward</li>
                            <li>Si l'upstream est configuré, pas besoin de préciser remote et branch</li>
                            <li>Ne fonctionnera pas si on a du travail en cours</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>https://git-scm.com/docs/git-pull</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--rebase | -r =[false|true|preserve|interactive]</b> : Pour réaliser un rebase au lieu d'un merge</li>
                                <li><b>--no-edit</b> : Pour accepter le message de merge auto</li>
                                <li><b>--no-ff</b> : Pour forcer un commit de merge</li>
                                <li><b>--ff-only</b> : Refuse le merge si non fast forward</li>
                            </ul>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>rebase preserve : pour préserver les merges locaux, sinon les flat</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <pre><code class="Bash" data-trim>
                            git pull origin master
                        </code></pre>

                        <img src="img/section6/Pull_merge.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <pre><code class="Bash" data-trim>
                            git pull --rebase=true origin master
                        </code></pre>

                        <img src="img/section6/Pull_rebase.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>
                </section>

                <!-- *************************************************************** -->
                <!-- 6.4. GIT PUSH -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Mettre à jour le repo distant</h3>

                        <img src="img/section6/cycle_push.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Mettre à jour le repo distant</h3>

                        <pre><code class="Bash" data-trim>
                            git push [options] [remote] [branch]
						</code></pre>

                        <ul>
                            <li>Met à jour le repo distant avec son local</li>
                            <li>Si l'upstream est configuré, pas besoin de préciser remote et branch</li>
                            <li>Ne fonctionnera pas si le remote a été mis à jour entre temps</li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>https://git-scm.com/docs/git-pull</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>-u | --set-upstream</b> : Permet de lier la remote au local</li>
                                <li><b>--delete</b> : Pour supprimer les références en paramètre (pareil que :)</li>
                                <li><b>-f | --force</b> : Pour forcer le push quoi qu'il arrive</li>
                                <li><b>-n | --dry-run</b> : Pour faire un fake push et voir ce qu'il se passe</li>
                            </ul>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>-u : pour ne plus préciser origin master à l'avenir pour les new branches</li>
                                <li>On peut modifier le push pour faire un delete</li>
                                <li></li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <pre><code class="Bash" data-trim>
                            git push -u origin master
                        </code></pre>

                        <img src="img/section6/Push_simple.svg" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <ul>
                            <li>Supprimer une remote branch (mais pas en local) <br />
                                <pre><code class="Bash" data-trim>
git push origin :myBranch
git push -d origin myBranch
                                </code></pre>
                            </li>
                            <li>Tenter un push sur un remote qui a bougé <br />
                                <pre><code class="Bash" data-trim>
                                    git push origin feat3
                                </code></pre>
                            </li>
                        </ul>

                        <img src="img/section6/git_push_failed.png" class="imgNoDecorate"/>

                        <aside class="notes">
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 6.5. J'AI DÉJÀ UN PROJET A PUSH SUR UN REPO DISTANT -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h2>Init un repo distant</h2>
                        <h3>Première solution</h3>
                        <ol>
                            <li>Créer le repo distant</li>
                            <li>Cloner en local ce repo</li>
                            <li>Copier les fichiers projets dans ce repo</li>
                            <li>Réaliser les commandes suivantes</li>
                        </ol>

                        <pre><code class="Bash" data-trim>
git add .
git commit -m "init du projet"
git push origin master
						</code></pre>
                    </section>

                    <section>
                        <h2>Init un repo distant</h2>
                        <h3>Deuxième solution</h3>

                        <pre><code class="Bash" data-trim>
git init
git add .
git commit -m "init du projet"
git remote add origin [remote_repository_URL]
git push origin master
						</code></pre>
                    </section>

                </section>

                <section>
                    <h3>Au fait, c'est quoi une pull request ?</h3>

                    <ul>
                        <li>N'appartient pas à git (surcouche)</li>
                        <li>Commit bloqué pour approbation avant merge</li>
                    </ul>

                    <img src="img/section6/pull_request.png" class="imgNoDecorate"/>
                </section>

                <!-- *************************************************************** -->
                <!-- 6.6. EXO -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h2>Robin met en pratique</h2>

                        <ol>
                            <li>Cloner le projet suivant (repo1) et checkout feat1 puis feat2 : <a href="https://github.com/reivon/formationGitRemote.git">https://github.com/reivon/formationGitRemote.git</a></li>
                            <li>Cloner le repo que vous venez de cloner (repo2)</li>
                            <li>Dans repo1, branch master, modifier et commit index.html ligne 3</li>
                            <li>Dans repo2
                                <ul>
                                    <li>Merge feat2 dans feat1 sans avoir de commit de merge et push feat1</li>
                                    <li>Supprimer la branche feat2 (local et remote)</li>
                                    <li>Sur master, modifier et commit le fichier index.html ligne 3</li>
                                    <li>Pusher master sans perdre aucun commit</li>
                                </ul>
                            </li>
                        </ol>
                    </section>

                    <section>
                        <h2>Robin maîtrise le teamwork</h2>

                        <div style="display:table">
                            <div style="display:table-cell;margin:10px;">
                                <img src="img/section6/teamwork2.gif" class="imgNoDecorate"/>
                            </div>
                            <div style="display:table-cell;vertical-align: middle">
                                <ul>
                                    <li>Il travaille avec de nombreux sous fifres</li>
                                    <li>Mais chacun à sa méthode de push</li>
                                    <li>Personne ne sait sur quelle branche travailler</li>
                                    <li>Il ne comprend rien à l'organisation des commits</li>
                                    <li>Il est temps de normer tout ça ...</li>
                                </ul>
                            </div>
                        </div>

                        <aside class="notes">
                            <ul>
                                <li>On a vu que Git est un outil puissant</li>
                                <li>On peut facilement dévier et faire n'importe quoi</li>
                                <li>On se doit de respecter une norme</li>
                            </ul>
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 7. GIT FLOW -->
                <!-- *************************************************************** -->

                <section>

                    <section>
                        <h1>Git flow</h1>

                        <img src="img/section7/groot_flow.gif" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Git flow</h3>

                        <ul>
                            <li>Une entreprise = un git flow ...</li>
                            <li>... mais il y a des règles communes à toute</li>
                            <li>Définit des normes / process :
                                <ul>
                                    <li>Message de commit</li>
                                    <li>Merge ou rebase ? (ff ou no ff)</li>
                                    <li>Master ou branches features / develop</li>
                                    <li>...</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Ne pas réécrire l'arbre du repo public</h3>

                        <img src="img/section7/git_rebase_push_force.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Pose des problèmes de merge / on est perdu</li>
                                <li>On ne doit jamais push force une master</li>
                                <li>On peut le faire sur des branches privé en vue d'un merge</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>When I push force</h3>

                        <img src="img/section7/git_push_force.gif" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Le côté obscur</h3>

                        <img src="img/section7/strip_rebase.jpg" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Normer son message de commit</h3>
                        <ul>
                            <li>Commencer par une courte description d'au plus 50 caractères</li>
                            <li>Laisser la deuxième ligne vide</li>
                            <li>Réaliser une description détaillée dans les lignes suivantes</li>
                            <li>Le # défini un commentaire et est ignoré</li>
                        </ul>

                        <img src="img/section7/commit_norme.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Normer son message de commit</h3>
                        <ul>
                            <li>On utilise de plus en plus la norme <a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#type">angular</a> <br />
                                <pre><code class="txt" data-trim>
&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
&lt;BLANK LINE&gt;
&lt;body&gt;
&lt;BLANK LINE&gt;
&lt;footer&gt;
                                </code></pre>
                            </li>
                            <li><b>Type</b> : build / ci / docs / feat / fix / perf / refactor / style / test</li>
                            <li><b>Scope</b> : A définir par l'entreprise : customer / payment / ...</li>
                            <li><b>Subject</b> : Court mais évocateur</li>
                            <li>Utiliser l'impératif au possible</li>
                            <li>Si tout est respecté, permet de générer des <b>changelogs !</b></li>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li>Le scope doit être un package ou un domaine fonctionnel</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Commit souvent, push rarement</h3>

                        <ul>
                            <li>Sur sa branche isolée, on DOIT commit régulièrement
                                <ul>
                                    <li>Permet de revenir en arrière rapidement</li>
                                    <li>Structure ses étapes de travail</li>
                                    <li>Sauvegarde sur le serveur</li>
                                </ul>
                            </li>
                            <li>Une fois la feature validée
                                <ol>
                                    <li>On rebase son travail pour nettoyer l'arbre</li>
                                    <li>On merge sur la branche de destination</li>
                                    <li>On push l'esprit tranquille !</li>
                                </ol>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Travail rebase VS travail bâclé</h3>

                        <img src="img/section7/rebase_vs_bad.png" class="imgNoDecorate" />

                        <p>Un commit clair (atomique) peut être revert / cherry-pick / ...</p>
                    </section>

                    <section>
                        <h3>Le principe git flow</h3>

                        <img src="img/section7/gitflow.png" class="imgNoDecorate" />
                    </section>

                    <section>
                        <h3>L'outil git flow</h3>

                        <ul>
                            <li>Plugin : <a href="https://github.com/nvie/gitflow/wiki/Installation">https://github.com/nvie/gitflow/wiki/Installation</a></li>
                        </ul>

                        <pre><code class="Bash" data-trim>
git flow init
git flow feature start [nom]
git flow feature finish [nom]
git flow release start/finish [nom]
git flow hotfix start/finish [nom]
						</code></pre>

                        <aside class="notes">
                            <ul>
                                <li>Réf : https://blog.nathanaelcherrier.com/2016/07/11/gitflow-la-methodologie-et-la-pratique/</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>De nombreux autres flow !</h3>

                        <img src="img/section7/onlymaster.jpg" class="imgNoDecorate" />
                    </section>

                    <section>
                        <h3>De nombreux autres flow !</h3>

                        <img src="img/section7/Flow_other.svg" class="imgNoDecorate" />
                    </section>

                    <section>
                        <h3>De nombreux autres flow !</h3>

                        <ul>
                            <li><a href="https://guides.github.com/introduction/flow/index.html">Git Hub</a></li>
                            <li><a href="https://docs.gitlab.com/ee/workflow/gitlab_flow.html">Git Lab</a></li>
                            <li><a href="https://www.atlassian.com/blog/archives/simple-git-workflow-simple">Atlassian</a></li>
                        </ul>
                    </section>

                    <section>
                        <h2>Une seule règle pour les gouverner toutes</h2>

                        <img src="img/section7/respectGitProcess.jpg" class="imgNoDecorate" />
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 8. LES CLIENTS GIT -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h1>Les clients GIT</h1>
                    </section>

                    <section>
                        <h3>Sourcetree</h3>

                        <img src="img/section8/sourcetree.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Le plus connu</li>
                                <li>Mac & windows uniquement</li>
                                <li>Gratuit</li>
                                <li>Plutôt fidèle à GIT</li>
                                <li>Attention aux options prédéfini !</li>
                                <li>Fait pas les merge (p4merge)</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Git Kraken</h3>

                        <img src="img/section8/gitkraken.jpg" class="imgNoDecorate" width="800px"/>

                        <aside class="notes">
                            <ul>
                                <li>Le petit nouveau</li>
                                <li>Mac / windows / Linux</li>
                                <li>Gratuit pour le core, payant pour le reste</li>
                                <li>Mac & windows uniquement</li>
                                <li>Plutôt fidèle à GIT</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>IntellIJ</h3>

                        <img src="img/section8/intellij_git.png" class="imgNoDecorate"/>

                        <aside class="notes">
                            <ul>
                                <li>Les IDE en général sont plutôt bon la dessus</li>
                                <li>Sauf eclipse ?</li>
                                <li>Montrer rapidement intellIj, les possibilités</li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Et bien d'autres</h3>

                        <ul>
                            <li>tortoisegit</li>
                            <li>github</li>
                            <li>egit</li>
                            <li>smartgit</li>
                            <li>git cola</li>
                        </ul>
                    </section>
                </section>

                <!-- *************************************************************** -->
                <!-- 9.1 LES COMMANDES AVANCES - GIT STASH -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h1>Les extras utiles</h1>
                    </section>

                    <section>
                        <h3>Planquer son travail temporairement</h3>

                        <pre><code class="Bash" data-trim>
							git stash [command]
						</code></pre>

                        <ul>
                            <li>Sauvegarde l'état courant des modifications dans une zone tampon et clean le working tree vers le HEAD</li>
                            <li>Permet de sauvegarder un état pour réaliser d'autres actions sur le repo</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Cas d'utilisation</h3>
                        <pre><code class="Bash" data-trim>
# ... hack hack hack ...
$ git checkout -b my_wip
$ git commit -a -m "WIP"
$ git checkout master
$ edit emergency fix
$ git commit -a -m "Fix in a hurry"
$ git checkout my_wip
$ git reset --soft HEAD^
# ... continue hacking ...
						</code></pre>
                        <pre><code class="Bash" data-trim>
# ... hack hack hack ...
$ git stash
$ edit emergency fix
$ git commit -a -m "Fix in a hurry"
$ git stash pop
# ... continue hacking ...
						</code></pre>

                    </section>

                    <section>
                        <h3>Git stash</h3>

                        <img src="img/section9/git_stash.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>list</b> : Liste les stash du repo</li>
                                <li><b>show</b> : Permet d'inspecter un stash</li>
                                <li><b>push</b> : Permet de créer un stash<ul>
                                    <li><b>-m</b> : pour nommer son stash</li>
                                </ul></li>
                                <li><b>apply</b> : Applique un stash sans l'effacer</li>
                                <li><b>pop</b> : Applique un stash et le drop</li>
                                <li><b>drop</b> : Supprime un stash</li>
                                <li><b>clear</b> : Supprime tous les stash</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Créer un stash nommé<br />
                                <pre><code class="Bash" data-trim>
		        					git stash push -m "temp"
        						</code></pre>
                            </li>
                            <li>Appliquer et supprimer un stash<br />
                                <pre><code class="Bash" data-trim>
		        					git stash pop
        						</code></pre>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>C'est une liste LIFO</h3>

                        <img src="img/section9/git_stash_lifo.png" class="imgNoDecorate"/>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 9.2 GIT SHOW -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Voir les détails d'un objet git</h3>

                        <pre><code class="Bash" data-trim>
                            git show [options] [object]
                        </code></pre>

                        <ul>
                            <li>Permet de consulter les détails
                                <ul>
                                    <li><b>Commit</b> : log message & diff</li>
                                    <li><b>branches</b> : log message & diff du dernier commit de la branche</li>
                                    <li><b>tags</b> : tag message et objets référencés</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--abbrev-commit</b> : Pour avoir le sha1 version courte</li>
                                <li><b>--pretty=[format] | --format=[format]</b> : Formatter les infos de commit</li>
                                <li><b>--color-words</b> : Pour avoir un diff aux mots</li>
                                <li>Plus toutes les options de git log et git diff ...</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <ul>
                            <li>Avoir les détails d'un commit<br />
                                <pre><code class="Bash" data-trim>
                                    git show f6ef819
                                </code></pre>
                            </li>
                        </ul>

                        <img src="img/section9/git_show.png" class="imgNoDecorate"/>

                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <ul>
                            <li>Récupérer la liste des fichiers impactés dans un commit<br />
                                <pre><code class="Bash" data-trim>
                                    git show --pretty="" --name-only 7f6ce03
                                </code></pre>
                            </li>
                        </ul>

                        <img src="img/section9/git_show_pretty.png" class="imgNoDecorate"/>

                        <ul>
                            <li>Récupérer la liste des fichiers impactés avec leur stat<br />
                                <pre><code class="Bash" data-trim>
                                    git show --stat 7f6ce03
                                </code></pre>
                            </li>
                        </ul>

                        <img src="img/section9/git_show_stat.png" class="imgNoDecorate"/>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 9.3 GIT CHERRY PICK -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Copier un commit sur une autre réf</h3>

                        <pre><code class="Bash" data-trim>
                            git cherry-pick [options] [commit]
                        </code></pre>

                        <ul>
                            <li>Peut appliquer plusieurs commit à la fois</li>
                            <li>Le head doit être propre (aucune modification en cours)</li>
                            <li>Des merges peuvent avoir lieu, ils sont résolus de manière classique</li>
                            <li>Utile pour des branches "patch" ou pour débloquer un développement</li>
                            <li>Attention cependant à ne pas le généraliser</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--edit | -e</b> : Permet d'éditer le message de commit</li>
                                <li>En cas de conflit
                                    <ul>
                                        <li><b>--continue</b> : En cas de conflit, une fois résolu, permet de continuer</li>
                                        <li><b>--quit</b> : Permet de quitter en l'état le process</li>
                                        <li><b>--abort</b> : Permet de revenir en arrière sur le process</li>
                                    </ul>
                                </li>
                                <li><b>--no-commit | -n</b> : Pour appliquer un cherry-pick sans commit</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <pre><code class="Bash" data-trim>
                            git cherry-pick 5397e5b
                        </code></pre>

                        <img src="img/section9/git_cherry1.png" class="imgNoDecorate"/>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>

                        <img src="img/section9/git_cherry2.png" class="imgNoDecorate"/>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 9.4 GIT BLAME -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Culpabiliser ses collègues</h3>

                        <pre><code class="Bash" data-trim>
                            git blame [file]
                        </code></pre>

                        <ul>
                            <li>Pour chaque ligne du fichier indique
                                <ul>
                                    <li>L'auteur de la dernière modification</li>
                                    <li>Le commit (révision) de la dernière modification</li>
                                </ul>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>-L [start],[end]</b> : Pour préciser les lignes souhaitées</li>
                                <li><b>--since=[date]</b> : Pour ne voir que les modifications depuis une date</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Voir les modifications sur le fichier index.html<br />
                                <pre><code class="Bash" data-trim>
                                    git blame index.html
                                </code></pre>
                            </li>
                        </ul>

                        <img src="img/section9/git_blame.png" class="imgNoDecorate"/>

                    </section>

                    <section>
                        <h3>Quelques exemples</h3>
                        <ul>
                            <li>Voir les modifications des lignes 40 à 60<br />
                                <pre><code class="Bash" data-trim>
                                    git blame -L 40,60 index.html
                                </code></pre>
                            </li>
                            <li>Voir les modifications de moins de trois semaines<br />
                                <pre><code class="Bash" data-trim>
                                    git blame --since=3.weeks -- index.html
                                </code></pre>
                            </li>
                        </ul>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 9.5 GIT MV -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Déplacer/renommer un fichier</h3>

                        <pre><code class="Bash" data-trim>
                            git mv [options] [source] [dest]
                        </code></pre>

                        <ul>
                            <li>Permet de déplacer un dossier/fichier</li>
                            <li>Tombe en erreur si
                                <ul>
                                    <li>La ressource dest existe déjà</li>
                                    <li>La ressource source n'existe pas</li>
                                </ul>
                            </li>
                            <li>Equivalent des commandes : </li>
                        </ul>

                        <pre><code class="Bash" data-trim>
$ mv LISEZMOI.txt LISEZMOI
$ git rm LISEZMOI.txt
$ git add LISEZMOI
                        </code></pre>

                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>--dry-run | -n</b> : Ne réalise pas vraiment les actions</li>
                                <li><b>--force | -f</b> : Force le renommage / déplacement</li>
                                <li><b>-k</b> : Skip l'action en cas d'erreur</li>
                            </ul>
                        </ul>
                    </section>

                    <section>
                        <h3>La perte d'historique</h3>
                        <ul>
                            <li>Git permet de ne pas perdre l'historique lors d'un move simple</li>
                            <li>Si dans le même commit, on réalise un move et beaucoup de modifications sur le fichier, git considère que ce sont deux fichiers différents</li>
                            <li>Pour avoir le full history d'un fichier qui a été déplacé, il est parfois nécessaire de préciser l'option --follow</li>
                        </ul>

                        <pre><code class="Bash" data-trim>
                            git log --follow index.html
                        </code></pre>
                    </section>

                </section>


                <!-- *************************************************************** -->
                <!-- 9.5 GIT BISECT -->
                <!-- *************************************************************** -->

                <section>
                    <section>
                        <h3>Rechercher le commit coupable</h3>

                        <pre><code class="Bash" data-trim>
                            git bisect [cmd]
                        </code></pre>

                        <ul>
                            <li>Permet de parcourir l'arbre GIT pour trouver un commit.</li>
                            <li>Fonctionne sur le principe de dichotomie</li>
                            <li>Indispensable sur un arbre git de type "lierre"</li>
                            <li>La recherche démarre lorsqu'au moins 1 bon & 1 mauvais commit ont été notifiés</li>
                        </ul>
                    </section>

                    <section>
                        <h3>Les options intéressantes</h3>

                        <ul>
                            <li>Options :</li>
                            <ul>
                                <li><b>start</b> : démarre le </li>
                                <li><b>good [commit]</b> : Permet de setter le plus vieux commit ou de dire que le commit courant est correct</li>
                                <li><b>bad [commit]</b> : Permet de setter le commit d'erreur ou de dire que le commit courant est incorrect</li>
                                <li><b>reset</b> : Pour stopper le bisect courant et revenir à l'état initial</li>
                                <li><b>run [script]</b> : Permet d'exécuter un script permettant de donner l'état du commit. Doit retourner 0 pour un bon commit. Doit retourner 1 pour un mauvais commit.</li>
                            </ul>
                        </ul>

                        <aside class="notes">
                            <ul>
                                <li></li>
                            </ul>
                        </aside>
                    </section>

                    <section>
                        <h3>Un petit exemple</h3>

                        <pre><code class="Bash" data-trim>
mkdir git_bisect_tests
cd git_bisect_tests
git init

echo Fais > test.txt
git add -A && git commit -m "Adding the word 'Fais'"
echo dodo >> test.txt
git add -A && git commit -m "Adding the word 'dodo'"
echo colas >> test.txt
git add -A && git commit -m "Adding the word 'colas'"
echo mon >> test.txt
git add -A && git commit -m "Adding the word 'mon'"
echo petit >> test.txt
git add -A && git commit -m "Adding the word 'petit'"
echo frère >> test.txt
git add -A && git commit -m "Adding the word 'frère'"
sed -i -e 's/frère/monstre/g' test.txt
git add -A && git commit -m "Changing the word 'frère' to 'monstre'"
echo fais >> test.txt
git add -A && git commit -m "Adding the word 'fais'"
echo dodo >> test.txt
git add -A && git commit -m "Adding the word 'dodo'"
echo "stp j'en peux plus" >> test.txt
git add -A && git commit -m "Adding the true end of song"
                        </code></pre>

                        <aside class="notes">
                            cat test.txt => il y a un bug, on devrait avoir frère et pas monstre !

                            git log pour retrouver les numéros de commit
                            git bisect start
                            git bisect good [initial commit]
                            git bisect bad [last commit]

                            cat test.txt pour vérifier si c'est bon ou pas :
                            git bisect bad
                            git bisect good

                            quand tout est trouvé : git bisect reset

                            git bisect start [bad commit] [good one]
                        </aside>
                    </section>

                </section>

                <!-- *************************************************************** -->
                <!-- 10.. ALLER BEAUCOUP PLUS LOIN-->
                <!-- *************************************************************** -->

                <section>
                    <h3>Aller plus loin</h3>

                    <ul>
                        <li>git reflog : log des activités git</li>
                        <li>git remote : gestion des remotes</li>
                        <li>git rm : suppression d'un fichier du file system git</li>
                        <li>git clean : suppression des fichiers inconnus de git</li>
                        <li>git for-each-ref : opération itérative</li>
                        <li>git worktree : Gestion de multiple working tree</li>
                        <li>gitk : interface graphique "native"</li>
                        <li>...</li>
                    </ul>
				</section>

                <section>
                    <h3>Quelques ressources</h3>

                    <ul>
                        <li><a href="https://try.github.io/levels/1/challenges/1">Try github : Apprendre git en 15min</a></li>
                        <li><a href="https://github.com/Gazler/githug">Git hug : Jeu de résolution git</a></li>
                        <li><a href="https://github.com/git-game/git-game">Git game : Challenge de résolution git</a></li>
                        <li><a href="https://learngitbranching.js.org/">Learn branching : S'entraîner avec les branches git</a></li>
                        <li><a href="http://ohshitgit.com/">Les situations courantes et leurs solutions</a></li>
                        <li><a href="https://mghignet.github.io/git-dammit-talk/#1">Une autre présentation de problèmes / solutions</a></li>
                        <li><a href="http://www.experience-developpement.fr/git-a-la-recherche-du-commit-perdu/">A la recherche des commits perdus</a></li>
                        <li><a href="https://delicious-insights.com/fr/articles/30-options-git-qui-gagnent-a-etre-connues/">30 astuces GIT</a></li>
                        <li><a href="https://www.git-tower.com/learn/git/faq">Quelques autres astuces ...</a></li>
                        <li><a href="https://www.git-tower.com/blog/git-cheat-sheet/">Et une cheat sheet !</a></li>
                    </ul>
                </section>

                <!-- *************************************************************** -->
                <!-- FIN FORMATION -->
                <!-- *************************************************************** -->

                <section>
                    <h3>Maintenant vous maîtriser GIT<br /> comme Robin</h3>

                    <img src="img/fin_formation.gif" class="imgNoDecorate"/>
                    <br />
                    <a href="https://gitexercises.fracz.com/">https://gitexercises.fracz.com/</a>
                </section>

			</div> <!-- End div slide -->

		</div> <!-- End div Reveal -->

		<!-- Scripts insertions -->
		<script src="reveal-3.2.0/lib/js/head.min.js"></script>
		<script src="reveal-3.2.0/js/reveal.js"></script>

		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
                width: 1015,
				controls: true, // affiche les flèches de contrôles
				progress: true, // affiche barre de progression
				history: true,
				center: true, // center verticalement
                slideNumber: true, // afficher les numéros de slide

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'reveal-3.2.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'reveal-3.2.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal-3.2.0/plugin/zoom-js/zoom.js', async: true },
					{ src: 'reveal-3.2.0/plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
